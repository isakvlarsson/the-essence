[gd_scene load_steps=8 format=3 uid="uid://ckeis5nfy86a0"]

[ext_resource type="PackedScene" uid="uid://c5nl6472j43m2" path="res://static/background_static.tscn" id="1_7mycd"]
[ext_resource type="PackedScene" uid="uid://mnhnr63qhtme" path="res://player/player.tscn" id="2_1bvp3"]
[ext_resource type="PackedScene" uid="uid://6js1tw6cy8uy" path="res://creatures/goblin/goblin.tscn" id="3_lquwl"]
[ext_resource type="PackedScene" uid="uid://cjdudtwhqprol" path="res://static/foreground_static.tscn" id="5_272bh"]
[ext_resource type="PackedScene" uid="uid://dfa1v2go21vmf" path="res://farming/farm_plot.tscn" id="5_lquwl"]
[ext_resource type="Script" uid="uid://l31yybgu4784" path="res://day_night_handler.gd" id="6_7mycd"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_4c57u"]
vertices = PackedVector2Array(1467.2, -890.141, 1500.79, 723.141, -923.367, 756.852, -822.594, -924.852)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-832, -935, 1477, -900, 1511, 733, -934, 767)])

[node name="Main" type="Node2D"]

[node name="BackgroundStatic" parent="." instance=ExtResource("1_7mycd")]
position = Vector2(15, 15)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_4c57u")

[node name="player" parent="." instance=ExtResource("2_1bvp3")]

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="."]
position = Vector2(289, -199)
rotation = -0.391392
vertices = PackedVector2Array(-28, 0, -28, -72, 27, -72, 28, 64, -28, 64)
affect_navigation_mesh = true
carve_navigation_mesh = true

[node name="FarmPlot" parent="." instance=ExtResource("5_lquwl")]
position = Vector2(152, -157)
scale = Vector2(5, 5)

[node name="FarmPlot2" parent="." instance=ExtResource("5_lquwl")]
position = Vector2(180, -157)
scale = Vector2(5, 5)

[node name="FarmPlot3" parent="." instance=ExtResource("5_lquwl")]
position = Vector2(208, -157)
scale = Vector2(5, 5)

[node name="Goblin1" parent="." node_paths=PackedStringArray("target_to_chase") instance=ExtResource("3_lquwl")]
position = Vector2(535, -339)
target_to_chase = NodePath("../FarmPlot")

[node name="Goblin2" parent="." node_paths=PackedStringArray("target_to_chase") instance=ExtResource("3_lquwl")]
position = Vector2(772, -317)
target_to_chase = NodePath("../FarmPlot2")

[node name="ForegroundStatic" parent="." instance=ExtResource("5_272bh")]
z_index = 2
position = Vector2(162, -217)

[node name="DayNightHandler" type="Node2D" parent="."]
script = ExtResource("6_7mycd")

[node name="CreatureSpawnPoint" type="Node2D" parent="." groups=["creature_spawn_point"]]
position = Vector2(683, -382)

[connection signal="new_day" from="DayNightHandler" to="player/Camera2D/HUD" method="_on_new_day"]
[connection signal="new_hour" from="DayNightHandler" to="player/Camera2D/HUD" method="_on_new_hour"]

[editable path="player"]
